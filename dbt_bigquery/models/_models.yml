version: 2

models:
  - name: decoded_csvs
    columns:
      - name: failed_decodes_nonderived  
        tests:
          - has_failed_decodes:
              condition: "date >= current_date - 1"
  - name: seed__bcusip
    # data_tests:
    #   - has_failed_decodes_nonderived
  - name: dim_customers
    config:
      meta:
        identifier_keys: customer_id
    columns:
      - name: customer_id
        data_tests:
          - not_null_check_identifier_keys:
              identifier_keys: "customer_name"
          
      - name: customer_name
        data_tests:
          - not_null_check_identifier_keys:
              identifier_keys: "*"
          